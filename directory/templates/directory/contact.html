{% extends "base.html" %}
{% load static %}
<!-- Contact form page -->

{% block title %}Contact | ouray.info{% endblock %}
{% block body_class %}contact{% endblock %}

{% block extra_head %}
  <!-- Load reCAPTCHA client -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
{% endblock %}

{% block content %}
<!-- Hero band for contact page -->
<section class="band band--hero" style="--band-image: url('{% static "directory/img/abrams-image.jpg" %}');">
  <div class="band-overlay"></div>
  <div class="container hero-inner">
    <h1 class="home-title">Contact</h1>
    <p class="home-subtitle">Send a message to ouray.info.</p>
    <div class="home-meta">
      <a class="btn btn-ghost" href="{% url 'home' %}">Back to home</a>
    </div>
  </div>
</section>

<!-- Contact form band -->
<section class="band band--solid">
  <div class="container">
    {% if error %}
      <p class="band-meta">{{ error }}</p>
    {% endif %}

    <!-- Contact form submission -->
    <form method="post" class="card contact-form" action="{% url 'contact' %}">
      {% csrf_token %}
      <div class="detail-meta-grid">
        <label class="meta-row">
          <span class="meta-label">Name</span>
          <input class="meta-value" type="text" name="name" value="{{ name|default_if_none:'' }}" required>
        </label>
        <label class="meta-row">
          <span class="meta-label">Email</span>
          <input class="meta-value" type="email" name="email" value="{{ email|default_if_none:'' }}" required>
        </label>
        <label class="meta-row">
          <span class="meta-label">Message</span>
          <textarea class="meta-value" name="message" rows="5" required>{{ message|default_if_none:'' }}</textarea>
        </label>
      </div>

      <!-- reCAPTCHA widget -->
      <div style="margin-top: 16px;">
        <div class="g-recaptcha" data-sitekey="{{ site_key }}"></div>
      </div>

      <!-- Submit action -->
      <div class="detail-actions" style="margin-top: 16px;">
        <button class="btn" type="submit">Send message</button>
      </div>
    </form>
  </div>
</section>
{% endblock %}
